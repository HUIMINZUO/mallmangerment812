#### 23-项目-用户管理-用户列表-新建组件-路由配置

1、Home.vue 开启了路由模式 index 值 -> path 值
2、home.vue main -> router.vue
3、新建 users.vue
4、router/index.js 在 Home 中的 children 配置 uesrs 的路由

## 2020-08-13 11:02 第二天

#### 01-项目-用户管理-用户列表--面包屑和搜索框

1、el-card 卡片 和 小容器
2、面包屑

```html
<el-breadcrumb separator-class="el-icon-arrow-right">
  <el-breadcrumb-item :to="{ path: '/' }">首页</el-breadcrumb-item>
  <el-breadcrumb-item>首页</el-breadcrumb-item>
  <el-breadcrumb-item>用户管理</el-breadcrumb-item>
  <el-breadcrumb-item>用户列表</el-breadcrumb-item>
</el-breadcrumb>
```

3、搜索框以及添加用户组件

```html
<el-row class="searchRow">
  <el-col>
    <el-input placeholder="请输入内容" v-model="query" class="inputSelect">
      <el-button slot="append" icon="el-icon-search"></el-button>
    </el-input>
    <el-button type="primary" round>添加用户</el-button>
  </el-col>
</el-row>
```

4、调整了搜索框和添加用户按钮的样式

#### 02-项目-用户管理-用户列表-引入表格组件

> el-table(data 数据源[]) > el-table-column(label 表头/prop="数据") -> 字符串数据

```html
<el-table :data="tableData" border style="width: 100%">
  <el-table-column prop="date" label="日期" width="180"> </el-table-column>
  <el-table-column prop="name" label="姓名" width="180"> </el-table-column>
  <el-table-column prop="address" label="地址"> </el-table-column>
</el-table>
<script>
  tableData: [
    {
      date: "2016-05-02",
      name: "王小虎",
      address: "上海市普陀区金沙江路 1518 弄"
    },
    {
      date: "2016-05-04",
      name: "王小虎",
      address: "上海市普陀区金沙江路 1517 弄"
    }
  ];
</script>
```

#### 3-项目-用户管理-用户列表-列表处理
> 按照效果，调整了表头的数量和label
> Table-column Attributes 的 type 参数中说明了对应列的类型。如果设置了 selection 则显示多选框；如果设置了 index 则显示该行的索引（从 1 开始计算）；如果设置了 expand 则显示为一个可展开的按钮，类型为 string 字符串

#### f
```js
created() {
    this.getUserList();
  },
  methods: {
    // 获取用户列表的请求
    async getUserList() {
      const res = await this.$http.get(
        `users?query=${this.query}&pagenum=${this.pagenum}&pagesize=${this.pagesize}`
      );
      console.log(res);
    }
```
1、通过 methods:{getUserList(){发送数据}}
2、通过 created(){this.getUserList()} 拿到请求头的数据
3、在接口文档中，除了登录之外的所有的请求都需要进行授权，就是设置请求头
4、在 axios 文档中找到关于如何设置请求头的代码
```js
  axios.defaults.headers.common['Authorization'] = AUTH_TOKEN
```
```js
const AUTH_TOKEN = localStorage.getItem('token')
      this.$http.defaults.headers.common['Authorization'] = AUTH_TOKEN
```
5、发送请求，查看是否有数据返回到控制台上


